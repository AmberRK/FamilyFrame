<!doctype html>
<html lang="en-US">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Family Frame</title>
    <link rel="stylesheet" type="text/css" href="styles/styles.css">
</head>


<body>
    <div id="flex-container">
        <div id="navbarPlaceholder"></div>

        <div>
            <h2>My Trees</h2>
        </div>

        <div id="JWT test">
            <button onclick="getMyTrees()">Get My Trees (on load)</button>
        </div>
        <div id="debugTrees">
            <button onclick="getALLTrees()">Get ALL Trees. To test adding a tree by code</button>
        </div>

        <ul id="showMyTrees"></ul>
        <ul id="showALLTrees"></ul>

        <section class="modal hidden">
            <div class="flex">
                <button class="btn-close">â¨‰</button>
            </div>
            <div>
                <h3>Add a tree via a share code</h3>
            </div>
            <form id="submitCode">
                <input type="text" autocomplete="off" name="shareCode" id="shareCode"
                    placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" />
                <input class="submit" id="submitCode" type="submit" value="Add tree" onClick="addATree()">
            </form>

        </section>

        <div class="overlay hidden"></div>
        <button class="btn btn-open">Add tree (via code)</button>


        <footer>
            <div id="footerPlaceholder"></div>
        </footer>

        <script>
        </script>
        <script src="scripts/leader-line.min.js"></script>
        <script src="scripts/main.js"></script>
        <script src="scripts/transaction.js"></script>
        <script src="scripts/navbar.js"></script>
        <script src="scripts/footer.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                replacePlaceholderFooter();
            });
            const modal = document.querySelector(".modal");
            const overlay = document.querySelector(".overlay");
            const openModalBtn = document.querySelector(".btn-open");
            const closeModalBtn = document.querySelector(".btn-close");

            // close modal function
            const closeModal = function () {
                modal.classList.add("hidden");
                overlay.classList.add("hidden");
            };

            // close the modal when the close button and overlay is clicked
            closeModalBtn.addEventListener("click", closeModal);
            overlay.addEventListener("click", closeModal);

            // close modal when the Esc key is pressed
            document.addEventListener("keydown", function (e) {
                if (e.key === "Escape" && !modal.classList.contains("hidden")) {
                    closeModal();
                }
            });

            // open modal function
            const openModal = function () {
                modal.classList.remove("hidden");
                overlay.classList.remove("hidden");
            };
            // open modal event
            openModalBtn.addEventListener("click", openModal);

        </script>
    </div>
</body>

</html>